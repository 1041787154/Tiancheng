#甜橙金融杯数据建模大赛

####参赛代码：
	详见代码打包文件
####运行说明
	环境：Python3.6
	依赖库：sklearn，numpy，pandas，lightgbm
	运行方式：
		在文件夹目录下运行如下命令
		python main.py

####提交结果
       提交csv文件见Sub文件夹
       
####算法说明
####1. 数据清洗 
		删除了数据缺失超过85%的列
		分析训练与测试数据发现device_code3有异常数据（某device_code3
		下有超过500个UID，复赛测试集更是增加到了10000+，观察到这些用户
		的95%以上的操作都没有该code3参与，且有该code3参与的mode为同一
		个mode，因此判定该device_code3 很可能是人为加入的噪声数据，顾
		将其置为Nan）
####2.清洗标签
		通过研究数据发现，在训练集中存在一定数量的羊毛党并没有将其标为羊
		毛党，模型需要的是更真实的标签，因此通过关联设备的方法从UID到
		Device再到UID建立关联，当同一用户关联的UID数量超过一定的阈值
		时，我判断他在操作数据/交易数据上为羊毛党，通过交集的方法找出找
		出应该判为羊毛党的UID，事实证明该操作可以带来测试集上0.1-0.15
		的tpr得分提升，而且对不同的模型都有相同程度的提高。
####3.建立特征
		主要对UID操作/交易数据进行交叉特征的统计，参考ration的开源代
		码，并在其基础上对特征进行选择和删减。例如：device_code3,mac1
		的数据缺失严重，顾对其不作交叉特征.
####4.建立模型
		建立lgb训练模型，训练参数详见Lgbmodel.py
####5.数据融合
		选择多个随机种子进行模型训练，将得到的结果按线上的成绩分以不同的
		权重进行融合
####6.算法优缺点
######优点
		1.特征是基于UID的统计特征，泛化性高，可解释较强
		2.通过UID-Device—UID的关联算法，有效增强了对羊毛党的判断准确
		率，大幅度提高模型性能
######缺点
		1.模型缺少了对具体操作和交易内容的特征，一定程度上降低了羊毛党的
		覆盖率
		2.对缺失数据的处理还不够细致全面
		